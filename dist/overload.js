var A={number:"Number",string:"String",boolean:"Boolean",symbol:"Symbol",bigint:"BigInt",undefined:"(undefined)"},S="object",g="function",d="*",E="...",k="##INNER_TYPE##",N="@@INNER_TYPE@@";function T(n,r){if(Array.isArray(r)){for(let i=0;i<r.length;i++)if(T(n,r[i]))return!0;return!1}if(typeof r!==g)return r===d&&n!==null||r===E||r===null&&n===null||r===typeof n;switch(typeof n){case g:case S:break;case"string":n=String;break;case"number":n=Number;break;case"boolean":n=Boolean;break;case"symbol":n=Symbol;break;case"bigint":n=BigInt;break;default:n=Object(n);break}return n===r||n instanceof r?!0:n?.[N]?n[N]===r?.[k]:!1}function b(n){if(n===null)return"null";if(n===d)return"(any)";let r=typeof n;if(r in A)return A[r];let i=(n.name||n.constructor.name||"(unknown)").split(" ").pop();return[k,N].forEach(c=>{n?.[c]&&(i+=`<${b(n?.[c])}>`)}),r===g&&i==="anonymous"?"(anonymous)":i}function _(n,r,i){let c=n.stack.split(`
`).splice(3),s="",a=`
`,e="";c.forEach((o,l,u)=>{let f=o.trim().split(" "),m=f.length===3?f[1]:"(anonymous)",w=m.split(".").pop();u[l]={fullMethodName:m,methodName:w,link:f.length===3?f[2]:f[1]},l?a+=`${w}	${u[l].link}
`:e=w});let h=r.find(o=>o.length===i.length);if(!h)throw s+=`The function "${e}" does not have an overload that takes ${i.length} arguments.`,s+=a,new Error(s);let t=!1;if(h.forEach((o,l)=>{if(!T(i[l],o)){let u=Array.isArray(o)?o.map(b).join("\u3001"):b(o);s+=`${t?`
`:""}Argument ${l+1}: Cannot convert from "${b(i[l])}" to "${u}".`,t=!0}}),t)throw s=`Error calling function "${e}"
${s}`,s+=a,new Error(s)}function y(){let n=[],r=[],i=[],c=null;function s(...e){if(c)return c.apply(this,e);_(new Error,n,e)}function a(...e){if(!n.length)return s.apply(this,e);let h=e.length;n:for(let t=0;t<n.length;t++){let o=n[t],l=i[t],u=o.length;if(!(l.length!==h&&!l.rest||h===0&&u&&o[0]!==E)){for(let f=0;f<h;f++)if(!T(e[f],o[f]||o[u-1]))continue n;return r[t].apply(this,e)}}return s.apply(this,e)}return a.add=function(e,h){if(!Array.isArray(n))throw new TypeError('"types" must be an array.');if(typeof h!==g)throw new TypeError('"fn" must be a function.');for(let t=0;t<e.length;t++)if(e[t]===E&&t!==e.length-1)throw new Error('A "..." parameter must be the last parameter in a formal parameter list.');return n.forEach(t=>{if(t.length===e.length){for(let o=0;o<t.length;o++)if(t[o]!==e[o])return;throw new Error("Function with the same signature already exists.")}}),n.forEach(t=>{let o=Array.isArray(t);if(typeof t!==g&&!o&&t!==d&&t!==E)throw new Error('The expected type must be Class, Array, "*" or the last parameter type can also be "...".');if(o)for(let l=0;l<t.length;l++){let u=typeof t[l];if(u!==g&&!(u===S&&typeof t[l]?.constructor===g)&&t[l]!==null&&t[l]!==d)throw new Error('The predetermined type enumeration content must be a Class, null or "*".')}}),n.push(e),r.push(h),i.push({length:e.length,rest:e[e.length-1]===E}),a},a.any=function(e){if(typeof e!==g)throw new TypeError('"fn" must be a function.');if(c)throw new Error('"any" function is already defined.');return c=e,a},a}var $=y().add([],function(){return y()}).add([Array,Function],function(n,r){let i=y();return i.add(n,r),i});export{$ as default};
//# sourceMappingURL=overload.js.map
