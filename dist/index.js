var a="*",g="...",d="##INNER_TYPE##",$="@@INNER_TYPE@@";function y(n,o){if(Array.isArray(o)){for(let i=0;i<o.length;i++)if(y(n,o[i]))return!0;return!1}if(typeof o!="function")return o===a&&n!==null||o===g||o===null&&n===null||o===typeof n;switch(typeof n){case"function":case"object":break;case"string":n=String;break;case"number":n=Number;break;case"boolean":n=Boolean;break;case"symbol":n=Symbol;break;case"bigint":n=BigInt;break;default:n=Object(n);break}return n===o||n instanceof o?!0:n?.[$]?n[$]===o?.[d]:!1}function b(n){if(n===null)return"null";if(n===a)return"(\u4EFB\u610F)";let o=typeof n;if(!["function","object"].includes(o))return o[0].toUpperCase()+o.slice(1);let i=(n?.name||n?.constructor?.name||"(\u672A\u77E5)").split(" ").pop();return[d,$].forEach(s=>{n?.[s]&&(i+=`<${b(n?.[s])}>`)}),o==="function"&&i==="anonymous"?"(\u533F\u540D)":i}function A(n,o,i){let s=n.stack.split(`
`).splice(3),l="",h=`
`,t="";s.forEach((e,f,u)=>{let c=e.trim().split(" "),w=c.length===3?c[1]:"(\u533F\u540D)",N=w.split(".").pop();u[f]={fullMethodName:w,methodName:N,link:c.length===3?c[2]:c[1]},f?h+=`${N}	${u[f].link}
`:t=N});let E=o.find(e=>e.length===i.length);if(!E)throw l+=`\u65B9\u6CD5 ${t} \u4E0D\u5B58\u5728 ${i.length} \u4E2A\u53C2\u6570\u7684\u91CD\u8F7D\u3002`,l+=h,new Error(l);let r=!1;if(E.forEach((e,f)=>{if(!y(i[f],e)){let u=Array.isArray(e)?e.map(b).join("\u3001"):b(e);l+=`${r?`
`:""}\u53C2\u6570${f+1}\uFF1A\u9884\u671F ${u} \u4F46\u5F97\u5230 ${b(i[f])}\u3002`,r=!0}}),r)throw l=`\u65B9\u6CD5 ${t} \u8C03\u7528\u9519\u8BEF
${l}`,l+=h,new Error(l)}function T(){let n=[],o=[],i=[],s=null;function l(...t){if(s)return s.apply(this,t);A(new Error,n,t)}function h(...t){if(!n.length)return l.apply(this,t);let E=t.length;n:for(let r=0;r<n.length;r++){let e=n[r],f=i[r],u=e.length;if(!(f.length!==E&&!f.rest||E===0&&u&&e[0]!==g)){for(let c=0;c<E;c++){let w=e[c]||e[u-1];if(!y(t[c],w)){try{let N=w?.["\u21C4"]?.(t[c]);if(t[c]=N,y(t[c],w))continue}catch{}continue n}}return o[r].apply(this,t)}}return l.apply(this,t)}return h.add=function(t,E){if(!Array.isArray(n))throw new TypeError("types \u5FC5\u987B\u662F\u6570\u7EC4\u3002");if(typeof E!="function")throw new TypeError("fn \u5FC5\u987B\u662F\u51FD\u6570\u3002");for(let r=0;r<t.length;r++)if(t[r]===g&&r!==t.length-1)throw new SyntaxError(`${g} \u5FC5\u987B\u662F\u6700\u540E\u4E00\u4E2A\u53C2\u6570\u3002`);return n.forEach(r=>{if(r.length===t.length){for(let e=0;e<r.length;e++)if(r[e]!==t[e])return;throw new Error("\u5DF2\u5B58\u5728\u6B64\u7B7E\u540D\u7684\u91CD\u8F7D\u3002")}}),n.forEach(r=>{let e=Array.isArray(r);if(typeof r!="function"&&!e&&r!==a&&r!==g)throw new TypeError(`\u671F\u671B\u7C7B\u578B\u4E3A Class\u3001Array\u3001${a} \u6216\u672B\u5C3E\u53C2\u6570\u4E5F\u53EF\u4EE5\u662F ${g}\u3002`);if(e)for(let f=0;f<r.length;f++){let u=typeof r[f];if(u!=="function"&&!(u==="object"&&typeof r[f]?.constructor=="function")&&r[f]!==null&&r[f]!==a)throw new TypeError(`\u7C7B\u578B\u5FC5\u987B\u4E3A Class\u3001null \u6216 ${a}\u3002`)}}),n.push(t),o.push(E),i.push({length:t.length,rest:t[t.length-1]===g}),h},h.any=function(t){if(s)throw new Error("any \u51FD\u6570\u5DF2\u5B58\u5728\u3002");if(typeof t!="function")throw new TypeError("fn \u5FC5\u987B\u662F\u51FD\u6570\u3002");return s=t,h},h}var S=T().add([],function(){return T()}).add([Array,Function],function(n,o){let i=T();return i.add(n,o),i});export{S as default};
//# sourceMappingURL=index.js.map
