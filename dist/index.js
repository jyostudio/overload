var N="*",g="...",d="##INNER_TYPE##",$="@@INNER_TYPE@@";function y(n,o){if(Array.isArray(o)){for(let i=0;i<o.length;i++)if(y(n,o[i]))return!0;return!1}if(typeof o!="function")return o===N&&n!==null||o===g||o===null&&n===null||o===typeof n;switch(typeof n){case"function":case"object":break;case"string":n=String;break;case"number":n=Number;break;case"boolean":n=Boolean;break;case"symbol":n=Symbol;break;case"bigint":n=BigInt;break;default:n=Object(n);break}return n===o||n instanceof o?!0:n?.[$]?n[$]===o?.[d]:!1}function b(n){if(n===null)return"null";if(n===N)return"(\u4EFB\u610F)";let o=typeof n;if(!["function","object"].includes(o))return o[0].toUpperCase()+o.slice(1);let i=(n?.name||n?.constructor?.name||"(\u672A\u77E5)").split(" ").pop();return[d,$].forEach(s=>{n?.[s]&&(i+=`<${b(n?.[s])}>`)}),o==="function"&&i==="anonymous"?"(\u533F\u540D)":i}function A(n,o,i){let s=n.stack.split(`
`).splice(3),l="",h=`
`,r="";s.forEach((e,f,u)=>{let c=e.trim().split(" "),a=c.length===3?c[1]:"(\u533F\u540D)",w=a.split(".").pop();u[f]={fullMethodName:a,methodName:w,link:c.length===3?c[2]:c[1]},f?h+=`${w}	${u[f].link}
`:r=w});let E=o.find(e=>e.length===i.length);if(!E)throw l+=`\u65B9\u6CD5 ${r} \u4E0D\u5B58\u5728 ${i.length} \u4E2A\u53C2\u6570\u7684\u91CD\u8F7D\u3002`,l+=h,new Error(l);let t=!1;if(E.forEach((e,f)=>{if(!y(i[f],e)){let u=Array.isArray(e)?e.map(b).join("\u3001"):b(e);l+=`${t?`
`:""}\u53C2\u6570${f+1}\uFF1A\u9884\u671F ${u} \u4F46\u5F97\u5230 ${b(i[f])}\u3002`,t=!0}}),t)throw l=`\u65B9\u6CD5 ${r} \u8C03\u7528\u9519\u8BEF
${l}`,l+=h,new Error(l)}function T(){let n=[],o=[],i=[],s=null;function l(...r){if(s)return s.apply(this,r);A(new Error,n,r)}function h(...r){if(!n.length)return l.apply(this,r);let E=r.length;n:for(let t=0;t<n.length;t++){let e=n[t],f=i[t],u=e.length;if(!(f.length!==E&&!f.rest||E===0&&u&&e[0]!==g)){for(let c=0;c<E;c++){let a=e[c]||e[u-1];if(!y(r[c],a)){try{let w=a?.["\u21C4"]?.(r[c]);if(y(w,a)){r[c]=w;continue}}catch{}continue n}}return o[t].apply(this,r)}}return l.apply(this,r)}return h.add=function(r,E){if(!Array.isArray(n))throw new TypeError("types \u5FC5\u987B\u662F\u6570\u7EC4\u3002");if(typeof E!="function")throw new TypeError("fn \u5FC5\u987B\u662F\u51FD\u6570\u3002");for(let t=0;t<r.length;t++)if(r[t]===g&&t!==r.length-1)throw new SyntaxError(`${g} \u5FC5\u987B\u662F\u6700\u540E\u4E00\u4E2A\u53C2\u6570\u3002`);return n.forEach(t=>{if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])return;throw new Error("\u5DF2\u5B58\u5728\u6B64\u7B7E\u540D\u7684\u91CD\u8F7D\u3002")}}),n.forEach(t=>{let e=Array.isArray(t);if(typeof t!="function"&&!e&&t!==N&&t!==g)throw new TypeError(`\u671F\u671B\u7C7B\u578B\u4E3A Class\u3001Array\u3001${N} \u6216\u672B\u5C3E\u53C2\u6570\u4E5F\u53EF\u4EE5\u662F ${g}\u3002`);if(e)for(let f=0;f<t.length;f++){let u=typeof t[f];if(u!=="function"&&!(u==="object"&&typeof t[f]?.constructor=="function")&&t[f]!==null&&t[f]!==N)throw new TypeError(`\u7C7B\u578B\u5FC5\u987B\u4E3A Class\u3001null \u6216 ${N}\u3002`)}}),n.push(r),o.push(E),i.push({length:r.length,rest:r[r.length-1]===g}),h},h.any=function(r){if(s)throw new Error("any \u51FD\u6570\u5DF2\u5B58\u5728\u3002");if(typeof r!="function")throw new TypeError("fn \u5FC5\u987B\u662F\u51FD\u6570\u3002");return s=r,h},h}var S=T().add([],function(){return T()}).add([Array,Function],function(n,o){let i=T();return i.add(n,o),i});export{S as default};
//# sourceMappingURL=index.js.map
