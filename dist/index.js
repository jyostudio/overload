var _="*",T="...",b="\u21C4",S="##INNER_TYPE##",g="@@INNER_TYPE@@",a="##INNER_THROW_FN##",y="##INNER_TYPE_FN##";function $(n,e){if(Array.isArray(e)){for(let i=0;i<e.length;i++)if($(n,e[i]))return!0;return!1}if(e?.[y]?.(n))return!0;if(typeof e!="function")return e===_&&n!==null||e===T||e===null&&n===null||e===typeof n;switch(typeof n){case"function":case"object":break;case"string":n=String;break;case"number":n=Number;break;case"boolean":n=Boolean;break;case"symbol":n=Symbol;break;case"bigint":n=BigInt;break;default:n=Object(n);break}return n===e||n instanceof e?!0:n?.[g]?n[g]===e?.[S]:!1}function w(n){if(n===null)return"null";if(n===_)return"(\u4EFB\u610F)";let e=typeof n;if(!["function","object"].includes(e))return e[0].toUpperCase()+e.slice(1);let i=(n?.name||n?.constructor?.name||"(\u672A\u77E5)").split(" ").pop();return[S,g].forEach(s=>{n?.[s]&&(i+=`<${w(n?.[s])}>`)}),e==="function"&&i==="anonymous"?"(\u533F\u540D)":i}function I(n,e,i){let s=n.stack.split(`
`).splice(3),l="",h=`
`,r="";s.forEach((o,f,u)=>{let c=o.trim().split(" "),N=c.length===3?c[1]:"(\u533F\u540D)",R=N.split(".").pop();u[f]={fullMethodName:N,methodName:R,link:c.length===3?c[2]:c[1]},f?h+=`${R}	${u[f].link}
`:r=R});let E=e.find(o=>o.length===i.length);if(!E)throw l+=`\u65B9\u6CD5 ${r} \u4E0D\u5B58\u5728 ${i.length} \u4E2A\u53C2\u6570\u7684\u91CD\u8F7D\u3002`,l+=h,new Error(l);let t=!1;if(E.forEach((o,f)=>{if(!$(i[f],o)){let u=Array.isArray(o)?o.map(w).join("\u3001"):w(o);l+=`${t?`
`:""}\u53C2\u6570${f+1}\uFF1A\u9884\u671F ${u} \u4F46\u5F97\u5230 ${w(i[f])}\u3002`,Array.isArray(o)?o.forEach((c,N)=>{typeof c?.[a]=="function"&&(l+=`${N===0?`
\u9644\u52A0\u4FE1\u606F\uFF1A
`:""}\u5C1D\u8BD5\u65B9\u6848${f+1} - ${c[a]?.(i[f])}`)}):typeof o?.[a]=="function"&&(l+=`
\u9644\u52A0\u4FE1\u606F\uFF1A
\u5C1D\u8BD5\u65B9\u6848${f+1} - ${o[a]?.(i[f])}`),t=!0}}),t)throw l=`\u65B9\u6CD5 ${r} \u8C03\u7528\u9519\u8BEF
${l}`,l+=h,new Error(l)}function A(){let n=[],e=[],i=[],s=null;function l(...r){if(s)return s.apply(this,r);I(new Error,n,r)}function h(...r){if(!n.length)return l.apply(this,r);let E=r.length;n:for(let t=0;t<n.length;t++){let o=n[t],f=i[t],u=o.length;if(!(f.length!==E&&!f.rest||E===0&&u&&o[0]!==T)){for(let c=0;c<E;c++){let N=o[c]||o[u-1];if(!$(r[c],N)){try{let R=N?.[b]?.(r[c]);if($(R,N)){r[c]=R;continue}}catch{}continue n}}return e[t].apply(this,r)}}return l.apply(this,r)}return h.add=function(r,E){if(!Array.isArray(n))throw new TypeError("types \u5FC5\u987B\u662F\u6570\u7EC4\u3002");if(typeof E!="function")throw new TypeError("fn \u5FC5\u987B\u662F\u51FD\u6570\u3002");for(let t=0;t<r.length;t++)if(r[t]===T&&t!==r.length-1)throw new SyntaxError(`${T} \u5FC5\u987B\u662F\u6700\u540E\u4E00\u4E2A\u53C2\u6570\u3002`);return n.forEach(t=>{if(t.length===r.length){for(let o=0;o<t.length;o++)if(t[o]!==r[o])return;throw new Error("\u5DF2\u5B58\u5728\u6B64\u7B7E\u540D\u7684\u91CD\u8F7D\u3002")}}),n.forEach(t=>{let o=Array.isArray(t);if(typeof t!="function"&&!o&&t!==_&&t!==T)throw new TypeError(`\u671F\u671B\u7C7B\u578B\u4E3A Class\u3001Array\u3001${_} \u6216\u672B\u5C3E\u53C2\u6570\u4E5F\u53EF\u4EE5\u662F ${T}\u3002`);if(o)for(let f=0;f<t.length;f++){let u=typeof t[f];if(u!=="function"&&!(u==="object"&&typeof t[f]?.constructor=="function")&&t[f]!==null&&t[f]!==_)throw new TypeError(`\u7C7B\u578B\u5FC5\u987B\u4E3A Class\u3001null \u6216 ${_}\u3002`)}}),n.push(r),e.push(E),i.push({length:r.length,rest:r[r.length-1]===T}),h},h.any=function(r){if(s)throw new Error("any \u51FD\u6570\u5DF2\u5B58\u5728\u3002");if(typeof r!="function")throw new TypeError("fn \u5FC5\u987B\u662F\u51FD\u6570\u3002");return s=r,h},h}var k=A().add([],function(){return A()}).add([Array,Function],function(n,e){let i=A();return i.add(n,e),i});export{k as default};
//# sourceMappingURL=index.js.map
